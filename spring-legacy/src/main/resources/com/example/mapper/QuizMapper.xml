<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.QuizMapper">

	<select id="getPackagesByCri" resultType="PackageVO">
		<![CDATA[
			SELECT *
			FROM package
		]]>
		<where>
			<!-- type는 criteria의 gettype로 꺼낸 값, ${} 사용안함 -->
			<if test="type == 'title'.toString()">
				<!-- #{keyword} 값 자체가 이미 ''로 씌어져 있음. sql의 concat 함수 이용 -->
				title LIKE CONCAT('%', #{keyword}, '%')
			</if>
			<if test="type == 'memberId'.toString()">
				member_id LIKE CONCAT('%', #{keyword}, '%')
			</if>
		</where>
		<![CDATA[
			ORDER BY num DESC;
			LIMIT #{startRow} , #{amount}
		]]>
	</select>
	
	
</mapper>